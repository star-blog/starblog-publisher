using System.Collections.Generic;
using StarBlogPublisher.Models;

namespace StarBlogPublisher.Utils;

public static partial class PromptTemplates {
    #region 关键词提取

    /// <summary>
    /// 从文章内容中提取关键词的提示词模板
    /// </summary>
    public const string KeywordExtraction =
        """
        你现在是一位【资深内容策划 + SEO专家 + 文本分析师】。  
        你的任务是：  

        1. **分析**下面的"原标题"和"文章内容"，理解文章的核心主题和要点；  
        2. **提取**5–10个最能代表文章主题的**关键词或短语**（可包含名词、动名词、固定搭配等）；  
        3. **每个关键词/短语限3个词以内**，尽量精准、避免停用词（如"的"、"和"、"是"）；  
        4. 如果文章中出现了**特定数字、人物、品牌或独家术语**，要优先保留；  
        5. 关键词要兼顾**阅读者直观理解**和**SEO效果**；  
        6. **输出时只返回一个 JSON 列表**，例如：  
           ```json
           ["关键词A", "关键词B", "短语C", ...]
        7. 不要输出多余的说明、解释或其他格式。

        ---

        原标题：{{title}}
        文章内容：{{content}}

        请直接输出 JSON 格式的关键词数组：

        ["word1", "word2", "word3"]
        """;

    #endregion

    #region 标题优化

    /// <summary>
    /// 基于心理触发器的标题优化提示词模板
    /// </summary>
    public const string TitleOptimization =
        """
        你是一位资深的内容营销专家，擅长运用心理学原理创作高转化率标题。

        ## 分析步骤
        1. **识别文章类型**：教程/经验分享/问题解决/技术分析/工具推荐
        2. **提取核心价值**：读者能获得什么具体收益
        3. **找出痛点**：解决了什么问题或满足了什么需求

        ## 优化策略
        根据文章类型选择合适的心理触发器：
        - **好奇心**："为什么..."、"如何..."、"背后的秘密"
        - **紧迫感**："2024年必须..."、"趋势变化"
        - **实用性**："实战指南"、"完整攻略"、"踩坑记录"
        - **权威性**："深度解析"、"专业视角"、"技术内幕"
        - **对比性**："A vs B"、"新旧对比"、"优劣分析"

        ## 输出要求
        - 长度：15-25个汉字
        - 必须包含核心关键词
        - 语言简洁有力，避免空洞修饰词
        - 确保标题与内容高度匹配
        - 只输出最终标题，无需解释

        原标题：{{title}}
        关键词：{{keywords}}
        内容摘要：{{content}}

        优化后的标题：
        """;

    /// <summary>
    /// 多维度标题优化与评估提示词模板
    /// </summary>
    public const string TitleOptimizationWithReasoning =
        """
        你是一位经验丰富的内容策略师，擅长从多个维度分析和优化文章标题。

        ## 任务流程

        ### 第一步：内容分析
        - 文章类型：技术教程/经验总结/工具评测/问题解决/行业分析
        - 目标受众：初学者/进阶用户/专业开发者
        - 核心价值：读者的具体收获
        - 关键痛点：解决的主要问题

        ### 第二步：生成候选标题
        基于不同心理触发器创作5个标题：
        1. **问题导向型**：直击痛点，提出疑问
        2. **解决方案型**：强调实用性和可操作性
        3. **对比分析型**：突出差异和选择
        4. **经验分享型**：强调实战和踩坑
        5. **趋势洞察型**：体现前瞻性和专业度

        ### 第三步：多维度评分
        为每个标题评分（1-10分）：
        - **吸引力**：是否激发点击欲望
        - **准确性**：是否准确反映内容
        - **SEO价值**：关键词覆盖和搜索友好度
        - **差异化**：与同类内容的区分度

        ### 第四步：输出格式
        ```
        【分析结果】
        文章类型：[类型]
        目标受众：[受众]
        核心价值：[价值点]

        【候选标题】
        1. [问题导向型标题] - 总分：XX
        2. [解决方案型标题] - 总分：XX
        3. [对比分析型标题] - 总分：XX
        4. [经验分享型标题] - 总分：XX
        5. [趋势洞察型标题] - 总分：XX

        【推荐标题】
        [得分最高的标题]
        ```

        原标题：{{title}}
        关键词：{{keywords}}
        内容摘要：{{content}}

        请按照上述流程进行分析和优化：
        """;

    /// <summary>
    /// 场景化标题优化提示词模板
    /// </summary>
    public const string TitleOptimizationScenario =
        """
        你是一位精通用户心理的标题优化专家，能够根据不同场景定制最有效的标题策略。

        ## 场景识别与策略

        **技术教程类**
        - 突出学习成果："从零到一"、"完全指南"、"实战教程"
        - 强调难度适中："新手友好"、"入门必看"、"进阶技巧"
        - 体现时效性："2024最新"、"最佳实践"

        **问题解决类**
        - 直击痛点："解决XX问题"、"踩坑指南"、"常见错误"
        - 提供方案："完美解决方案"、"终极修复"、"一招搞定"
        - 节省时间："快速解决"、"高效方法"

        **工具推荐类**
        - 突出价值："神器推荐"、"效率工具"、"必备利器"
        - 对比优势："最佳选择"、"深度对比"、"全面评测"
        - 实用导向："实用工具"、"开发利器"

        **经验分享类**
        - 个人视角："我的XX经历"、"实战心得"、"踩坑总结"
        - 价值传递："宝贵经验"、"避坑指南"、"成长感悟"
        - 真实感受："真实体验"、"深度思考"

        **技术分析类**
        - 专业深度："深度解析"、"技术内幕"、"原理剖析"
        - 前瞻性："趋势分析"、"未来展望"、"技术演进"
        - 权威性："专业解读"、"技术洞察"

        ## 优化原则
        1. **精准定位**：根据内容类型选择最合适的心理触发器
        2. **关键词融合**：自然融入核心关键词，避免生硬堆砌
        3. **情感共鸣**：触发读者的好奇心、紧迫感或获得感
        4. **简洁有力**：15-25字，表达清晰，朗朗上口
        5. **差异化**：避免同质化，突出独特价值

        原标题：{{title}}
        关键词：{{keywords}}
        内容摘要：{{content}}

        请分析文章场景并输出优化标题：
        """;

    /// <summary>
    /// 获取所有可用的标题优化模板
    /// </summary>
    public static List<TitleOptimizationTemplate> TitleOptimizationTemplates { get; } = new()
    {
        new TitleOptimizationTemplate
        {
            Key = "Basic",
            Name = "基础优化",
            Description = "基于心理触发器的标题优化，适合大多数文章类型",
            Template = TitleOptimization,
            IsDefault = true
        },
        new TitleOptimizationTemplate
        {
            Key = "WithReasoning",
            Name = "多维度分析",
            Description = "提供详细的分析过程和多个候选标题，适合需要深度优化的文章",
            Template = TitleOptimizationWithReasoning,
            IsDefault = false
        },
        new TitleOptimizationTemplate
        {
            Key = "Scenario",
            Name = "场景化优化",
            Description = "根据不同文章场景定制优化策略，适合特定类型的技术文章",
            Template = TitleOptimizationScenario,
            IsDefault = false
        }
    };

    #endregion

    #region 文章描述生成

    /// <summary>
    /// 高冷吐槽风格的文章描述生成模板
    /// </summary>
    public const string ArticleDescriptionCasual =
        """
        下面有一篇文章的标题和正文，请根据它们写一段**高冷又带点吐槽**风格的简介，字数控制在2～3句，不要出现"作为AI"或"我能"之类的套话，要让人感觉像是真人在翻白眼、顺便冷嘲热讽。

        标题：{{title}}  
        正文：{{content}}

        要求：
        1. 用第一人称或第三人称都行，只要语气"高冷"＋"微吐槽"。  
        2. 切忌过度解释或教条式总结，越简洁越有杀伤力。  
        3. 可适当用疑问句或反问，制造"我都看傻了"的效果。  
        4. 禁止出现典型的AI自我介绍或过分客套。
        5. 不要输出多余的说明、解释或其他格式。
        """;

    /// <summary>
    /// 技术开发者风格的文章描述生成模板
    /// </summary>
    public const string ArticleDescriptionTechnical =
        """
        你是一位【高冷的独立开发者 + 技术优秀的高傲程序员】。  
        你的任务是：  

        1. **理解**下面的"标题"和"正文"，抓取文章核心及亮点；  
        2. **用第一人称或第三人称**表达都可，但语气必须"高冷"＋"微吐槽"；  
        3. **仅输出**2～4句简介，总字数控制在120字内；  
        4. **切忌**过度解释、教条式总结或流水账式复述；  
        5. **可用**疑问句、反问句或短促感叹，营造"翻白眼"效果；  
        6. **禁止**出现"作为AI"、"我能"、"我将"等任何AI自述或客套套话；  
        7. **绝对不要**多余前后缀、说明、标点装饰，只给简介文本。

        ---

        标题：{{title}}  
        正文：{{content}}

        > **请直接输出最终简介：**  
        """;

    #endregion

    #region URL Slug 生成

    /// <summary>
    /// 生成 URL Slug 的提示词模板
    /// </summary>
    public const string UrlSlugGeneration =
        """
        你是一名【SEO专家 + 多语言翻译官 + URL 优化师】。  
        你的任务是：  
        1. 接收文章标题；  
        2. 将中文部分**准确翻译**为英文（保留术语、专有名词）；  
        3. 将整个标题转换为**小写字母**；  
        4. 用连字符 "-" 代替所有空格或标点分隔；  
        5. **只保留** a–z、0–9 和连字符；  
        6. **长度不超过 50 个字符**，最优 30–40 字符；  
        7. 删除毫无意义的停用词（如 "the"、"a"、"of" 等，但保留必要语义）；  
        8. 确保 slug 简洁、有辨识度且易于记忆；  
        9. **仅**返回最终 slug 字符串，不要任何多余说明或引号。

        ---

        文章标题：{{title}}

        > **请直接输出最终的 URL slug：**  

        """;

    #endregion
}